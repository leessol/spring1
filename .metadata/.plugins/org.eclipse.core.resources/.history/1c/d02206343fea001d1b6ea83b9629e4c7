package com.shinhan.controller;

import java.util.Map;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RequestParam;

import com.shinhan.vo.EmpVO;

@Controller
@RequestMapping("/emp")
public class EmpController {

	Logger logger = LoggerFactory.getLogger(EmpController.class);

	@RequestMapping(value = "/insert.do", method = RequestMethod.GET)
	public String registerGet() {
		return "emp/empInsert";
	}

	/*
	 * @RequestMapping(value="emp/insert.do", method = RequestMethod.POST) public
	 * String registerPost( int employee_id, String first_name, String last_name,
	 * String email, String phone_number, int salary, int department_id, int
	 * manager_id, String commission_pct, Date hire_date, String job_id) {
	 * 
	 * logger.info("employee_id: " + employee_id); logger.info("first_name: " +
	 * first_name); logger.info("last_name: " + last_name); logger.info("email: " +
	 * email); logger.info("phone_number: " + phone_number); logger.info("salary: "
	 * + salary); logger.info("department_id: " + department_id);
	 * logger.info("manager_id: " + manager_id); logger.info("commission_pct: " +
	 * commission_pct); logger.info("hire_date: " + hire_date);
	 * logger.info("job_id: " + job_id);
	 * 
	 * logger.info(""); return "emp/empInsert"; }
	 */

	// Map 이용
	// Request의 parameter를 읽어서 VO를 new해서 setter수행한다.
//	@RequestMapping(value = "/insert.do", method = RequestMethod.POST)
//	public String registerPost(@RequestParam Map<String, String> map) {
//
//		
//		
//		for(String key: map.keySet()) {
//			logger.info(key);
//			logger.info(map.get(key).toString());
//		}
//		
//		System.out.println(map);	
//		
//		return "emp/empInsert.do";
//	}

	// HTML 폼과 자바빈 객체
	// Request의 parameter를 읽어서 VO를 new해서 setter수행한다.
	@RequestMapping(value = "/insert.do", method = RequestMethod.POST)
	public String registerPost(@ModelAttribute EmpVO emp, String address) {
		
		logger.info("emp : " + emp);
		logger.info("address : " + address);
		return "emp/empInsert";
	}

}
